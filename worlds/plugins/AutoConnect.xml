<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE muclient>
<!-- Saved on 2009? ?? 28? ???, ?? 8:52 -->
<!-- MuClient version 4.37 -->

<!-- Plugin "AutoConnect" generated by Plugin Wizard -->

<muclient>
<plugin
   name="AutoConnect"
   author="spraydew"
   id="ae142e4c5581d5c1d92babfe"
   language="Lua"
   purpose="AutoConnect on disconnect"
   date_written="2009-01-28 20:51:54"
   requires="4.37"
   version="1.0"
   >
<description trim="y">
<![CDATA[
AutoConnect on disconnect
]]>
</description>

</plugin>


<!--  Get our standard constants -->

<include name="constants.lua"/>

<!--  Timers  -->

<timers>
  <timer name="PluginConnectTimer" enabled="y" second="15.50" offset_second="0.00"  script="OnTimerConnecting" 
  active_closed="y" >

  </timer>
</timers>

<!--  Script  -->


<script>
<![CDATA[

function OnTimerConnecting()
	world.Connect()
end

function OnPluginDisconnect() 
	local activeworld = nil
	
	for k, v in pairs (GetWorldList()) do 
		activeworld = GetWorld (v)
		info = activeworld: GetInfo(113)
		if info then
			break
		end
		activeworld = nil
	end
	Activate()

	EnableTimer("PluginConnectTimer", true)
  
	if activeworld == nil then
		return
	end
	activeworld: Activate()
end

]]>
</script>


</muclient>
